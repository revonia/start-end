!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).StartEnd={})}(this,function(t){"use strict";var i=Object.create.bind(null,null),n=Object.freeze;function o(t){return"function"==typeof t}function r(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.bind.apply(t,[null].concat(n))}function s(){return"UniqueObject("+this._desc+")"}function e(t){var e=i();return e._desc=t,n(function(t,e,n){return o(n)&&(n={get:n}),Object.defineProperty(t,e,n)}(e,"toString",s))}var u="_fetchToken$$";function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.value=t,this.type=e},l=e("prop"),f=e("text");function h(t,e){var n=t.dsl;(n.startTagStack||(n.startTagStack=[]),o(n.beforePushStartTag))&&(e=n.beforePushStartTag(n,e)||e);return n.startTagStack.push(e),r(d,{dsl:n},e)}function d(t,e){var n=t.dsl;(n.endTagStack||(n.endTagStack=[]),o(n.beforePushEndTag))&&(e=n.beforePushEndTag(n,e)||e);return n.endTagStack.push(e),n}function p(t,e,n){var r;return o(t.beforePushPart)&&(r=t.beforePushPart(t,e,n)),r||(r=new c(n,e)),t.startTagStack.push(r),t}var T=function(){function t(t){this.startTagStack=[],this.endTagStack=[],this.TagCollection=t,this.startTokens=null,this.endTokens=null,this.textPart=null,this.propPart=null}return t.isProp=function(t){return t.type===l},t.isText=function(t){return t.type===f},function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(t,[{key:"o",get:function(){return this.startTokens||(this.startTokens=new this.TagCollection(h),this.startTokens.dsl=this),this.startTokens}},{key:"x",get:function(){return this.endTokens||(this.endTokens=new this.TagCollection(d),this.endTokens.dsl=this),this.endTokens}},{key:"prop",get:function(){return this.propPart||(this.propPart=r(p,this,l)),this.propPart}},{key:"text",get:function(){return this.textPart||(this.textPart=r(p,this,f)),this.textPart}}]),t}();t.CommaDsl=T,t.makeTokenCollection=function(t,e){void 0===e&&(e=function(t,e){return e});var n=t.reduce(function(t,e){return t[e]={get:function(){return this[u](this,e)},enumerable:!0},t},{});n[u]={value:e,enumerable:!1,writable:!0};var r=i();function o(t){if(void 0===t&&(t=null),!(this instanceof o))throw new Error("Shouldn't call TokenCollection constructor directly.");"function"==typeof t&&(this[u]=t)}return Object.defineProperties(r,n),o.prototype=r,o},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=start-end.min.js.map
